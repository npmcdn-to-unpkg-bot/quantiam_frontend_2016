<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>This is the users page</title>
</head>
<body>
<div class="row">
    <div class="col-lg-6">
        <div class="card card-underline">

            <div class="card-head">
                <header>
                    User Info for {{ userInfoData.name }}
                </header>

            </div>

            <div class="card-body">

                <table  class="table table-striped table-hover"  cellspacing="0" width="100%" >
                    <thead>
                    <tr>
                        <th>key</th>
                        <th>value</th>
                    </tr>
                    </thead>

                    <tbody>
                    <tr ng-repeat="(key, value) in userInfoData" ng-hide="key == 'supervisors' || key == 'subordinates' || key == 'groups'
                                || key == 'hide_employee' || key == 'sidebar_collapse' || key == 'employee_hash' || key == 'name' || key == 'depth'">
                        <td>{{ key }}</td>

                        <td>{{ value }}</td>
                        <td ng-show="editForm == true">

                            <input type="text" ng-model="value">
                        </td>
                        <td ng-hide="editForm == true">
                            <button ng-hide="key == 'email' || key == 'ldap_username'" ng-click="editForm = true">Edit</button>
                        </td>
                        <td ng-show="editForm == true">
                            <button ng-click="editForm = false; editUserInfo(userInfoData.email, key, value)" type="submit">Save</button>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>

        </div>
    </div>

    <div class="col-lg-6">
        <div class="card card-underline">

            <div class="card-head">
                <header>
                    Hierarchal Info for {{ userInfoData.name }}
                </header>

            </div>

            <div class="card-body">

                <table  class="table table-striped table-hover"  cellspacing="0" width="100%" >
                    <thead>
                    <tr>
                        <th>current supervisor</th>
                        <th>change supervisor</th>
                    </tr>
                    </thead>

                    <tbody>
                    <tr>
                        <td>{{ userInfoData.supervisors[(userInfoData.supervisors).length -1 ].name }}</td>
                        <td>
                            <div class="form form-inline">
                                <select name="supervisors">
                                    <option ng-repeat="people in userData" value="people.employeeid" ng-if="people.employeeid>0">{{ people.firstname }} {{ people.lastname }}</option>
                                    </option>
                                </select>
                                <button type="submit" class="btn btn-succcess">BUTTON</button>
                                </div>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>

        </div>
				<div class="card card-underline">
            <div class="card-head">
                <header>
                    Groups
                </header>
								
								
								<div class="tools">
								
								<div class="form-inline">
								<div class='form-group'>
									
										<select class='form-control' style='display:inline-block;' ng-model="user_info_add_to_group" ng-options="group.group_id as group.group_name for group in groupList"></select> 
                  
								</div>
								<div class="form-group">
								  <a ng-click="addGroup()" class="btn btn-icon-toggle btn-refresh" style="margin-bottom:10px" >
											
                        <i style="color:green; " class="fa fa-plus-circle fa-2x"  ></i>
                    </a>
								</div>
								</div>
                </div>

            </div>

            <div class="card-body">
							   <table  datatable="ng"  class="table table-striped table-hover"   >
									<thead>
										<tr>
												<th> Group Name </th>
												<th> Actions </th>
										</tr>	
									</thead>
									<tbody>
											<tr ng-repeat="(index,group) in userInfoData.groups">
												<td> 
														{{group.group_name}}
												</td>
												<td>
												<span class="fa fa-circle fa-1x " style="color:orange; " ng-if="group.ldap == 1" tooltip-placement="top" uib-tooltip="Membership managed by LDAP"> </span>
														<span style="cursor:pointer; color:red;" ng-click="removeFromGroup(group.group_id)"   ng-if="group.ldap == 0"   class="fa fa-trash fa-1x"  tooltip-placement="top" uib-tooltip="Remove from group"> </button>
												</td>
											</tr>
									</tbody>
								
							</table>
				
				
				
						</div>
				</div>
    </div>
</div>
</body>
</html>